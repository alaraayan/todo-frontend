(this["webpackJsonpproject-3-frontend"]=this["webpackJsonpproject-3-frontend"]||[]).push([[0],{104:function(e,t,n){},192:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),r=n(36),a=n.n(r),o=(n(104),n(48),n(5)),i=n(3),l=n(19),j=n(6),u=n(86),d=n(47),b=n(23);function m(e){window.localStorage.setItem("token",e)}function h(){return window.localStorage.getItem("token")}function x(){window.localStorage.removeItem("token")}function f(){var e=h(),t=null===e||void 0===e?void 0:e.split(".");return!(!e||t.length<3)&&JSON.parse(atob(t[1]))}function O(){var e=f();return!!e&&Math.round(Date.now()/1e3)<e.exp}var p=n(1);function v(){var e=Object(i.f)(),t=O(),n=Object(s.useState)(!1),c=Object(j.a)(n,2),r=c[0],a=c[1],o=function(){return a(!r)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"navbar",children:Object(p.jsx)("div",{className:"menu-items-end",onClick:o,children:Object(p.jsx)(u.a,{toggled:r,toggle:a})})}),Object(p.jsx)("div",{className:r?"side-nav-menu-container active":"side-nav-menu-container",children:Object(p.jsxs)("div",{className:"navbar-content-container",onClick:o,children:[Object(p.jsx)(g,{to:"/",icon:b.d,text:"Home"}),t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(g,{to:"/my-list",text:"To-Do List",icon:b.c}),Object(p.jsx)(g,{to:"/my-list/saved",text:"Saved Items",icon:b.a}),Object(p.jsxs)("p",{className:"navbar-item logout-link",onClick:function(){x(),e("/")},children:[Object(p.jsx)(d.a,{className:"fa-items-icon",icon:b.f}),"Log out"]})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(g,{to:"/register",icon:b.b,text:"Register"}),Object(p.jsx)(g,{to:"/login",icon:b.e,text:"Login"})]})]})})]})}function g(e){var t=e.to,n=e.icon,s=e.text;return Object(p.jsx)("p",{children:Object(p.jsxs)(o.b,{to:t,className:"navbar-item",children:[Object(p.jsx)(d.a,{className:"fa-items-icon",icon:n}),s]})})}var w=n(9),N=n(4),k=n.n(N),y=n(21),C=n(32);function I(e){var t=e.text;return Object(p.jsx)("div",{children:Object(p.jsx)("button",{type:"click",className:"user-form submit-button",children:t})})}var S=new y.GiphyFetch("sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh");function D(){var e=O(),t=c.a.useState(null),n=Object(j.a)(t,2),s=n[0],r=n[1];return c.a.useEffect((function(){var e=function(){var e=Object(w.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.gif("ehnBGPgDOusUM");case 2:t=e.sent,n=t.data,r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("section",{className:"user-forms home-container",children:Object(p.jsx)("div",{className:"user-form",children:Object(p.jsx)("section",{className:"form-container",children:e?Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{className:"user-form",children:"Let's keep a little optimism here. You love us, we know."})," ",Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"gif",children:s&&Object(p.jsx)(C.Gif,{gif:s,width:400})}),Object(p.jsxs)("div",{className:"buttons-container",children:[Object(p.jsx)(o.b,{to:"/my-list",children:Object(p.jsx)(I,{text:"Your to-do list"})}),Object(p.jsx)(o.b,{to:"/my-list/saved",children:Object(p.jsx)(I,{text:"Your saved items"})})]})]}):Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{className:"user-form",children:"Hi! What we have here is a simple to-do list, made to help you get sith done -we love puns...and Star Wars-."})," ",Object(p.jsx)("br",{}),Object(p.jsxs)("h3",{children:["Nothing beats the satisfaction of finishing off everything on a to-do list, so don't let us keep you from it. ",Object(p.jsx)(o.b,{to:"/login",children:"Login"})," to work on your list or ",Object(p.jsx)(o.b,{to:"/register",children:"register"})," for an account if you are new and blast away! ",Object(p.jsx)("span",{className:"han-quote",children:"Hokey religions and ancient weapons are no match for a good blaster at your side, kid!"})]}),Object(p.jsx)("div",{className:"gif",children:s&&Object(p.jsx)(C.Gif,{gif:s,width:400})}),Object(p.jsxs)("div",{className:"buttons-container",children:[Object(p.jsx)(o.b,{to:"/register",children:Object(p.jsx)(I,{text:"Register"})}),Object(p.jsx)(o.b,{to:"/login",children:Object(p.jsx)(I,{text:"Login"})})]})]})})})})})}var E=n(22),F=n(8);function T(e){var t=c.a.useState(e),n=Object(j.a)(t,2),s=n[0],r=n[1],a=c.a.useState(e),o=Object(j.a)(a,2),i=o[0],l=o[1];return{formData:s,handleChange:function(e){r(Object(F.a)(Object(F.a)({},s),{},Object(E.a)({},e.target.name,e.target.value))),l(Object(F.a)(Object(F.a)({},i),{},Object(E.a)({},e.target.name,"")))},setFormErrors:l,setFormData:r,formErrors:i,clearForm:function(){return r(e),l(e)}}}var L=n(20),A=n.n(L),H="myherokubackendurl.herokuapp.com/api";function Y(){return{headers:{Authorization:"Bearer ".concat(h())}}}function G(e){return console.log(e),A.a.post("".concat(H,"/auth/register/"),e)}function W(e){return A.a.post("".concat(H,"/auth/login/"),e)}function M(){return A.a.get("".concat(H,"/todos/"),Y())}function P(e){return A.a.post("".concat(H,"/todos/"),e,Y())}function R(e){return A.a.get("".concat(H,"/todos/").concat(e,"/"),Y())}function U(e,t){return A.a.put("".concat(H,"/todos/").concat(e,"/"),t,Y())}function z(e){return A.a.delete("".concat(H,"/todos/").concat(e,"/"),Y())}function B(){var e=Object(i.f)();return Object(p.jsx)("section",{className:"user-forms",children:Object(p.jsx)("div",{className:"user-form",children:Object(p.jsxs)("section",{className:"form-container",children:[Object(p.jsx)("h1",{className:"user-form",children:"Looks like you are already logged in. Click below to logout or use the menu to go to a different page."}),Object(p.jsx)("div",{onClick:function(){try{x(),e("/")}catch(t){console.log(t)}},children:Object(p.jsx)(I,{text:"Logout"})})]})})})}function K(){var e=O(),t=Object(i.f)(),n=c.a.useState(""),s=Object(j.a)(n,2),r=s[0],a=s[1],u=T({username:"",email:"",password:"",passwordConfirmation:""}),d=u.formData,b=u.formErrors,h=u.handleChange,x=function(){var e=Object(w.a)(k.a.mark((function e(n){var s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,G(d);case 4:return s={email:d.email,password:d.password},e.next=7,W(s);case 7:m(e.sent.data.token),t("/my-list"),l.b.success("Successfully registered! Welcome!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),a(e.t0.response.data.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:e?Object(p.jsx)(B,{}):Object(p.jsxs)("section",{className:"user-forms",children:[Object(p.jsx)("form",{className:"user-form",onSubmit:x,children:Object(p.jsxs)("section",{className:"form-container",children:[Object(p.jsx)("h1",{className:"user-form",children:"Create a new account"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{className:"user-form user-info",placeholder:"Username",onChange:h,name:"username",value:d.username}),b.username&&Object(p.jsx)("p",{children:b.username})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{className:"user-form user-info",placeholder:"Email",onChange:h,name:"email",value:d.email}),b.email&&Object(p.jsx)("p",{children:b.email})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{className:"user-form user-info",type:"password",placeholder:"Password",onChange:h,name:"password",value:d.password}),b.password&&Object(p.jsx)("p",{children:b.password})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{className:"user-form user-info",type:"password",placeholder:"Password Confirmation",onChange:h,name:"passwordConfirmation",value:d.passwordConfirmation}),b.passwordConfirmation&&Object(p.jsx)("p",{className:"user-form",children:b.passwordConfirmation})]}),r&&Object(p.jsx)("p",{children:r}),Object(p.jsx)(I,{text:"Register"}),Object(p.jsx)("footer",{children:Object(p.jsxs)("h5",{children:["Already a member? ",Object(p.jsx)("span",{children:Object(p.jsx)(o.b,{to:"/login",children:"Login instead."})})," "]})})]})}),Object(p.jsx)(l.a,{})]})})}function X(){var e=Object(i.f)(),t=O(),n=c.a.useState(!1),s=Object(j.a)(n,2),r=s[0],a=s[1],u=T({email:"",password:""}),d=u.formData,b=u.handleChange,h=function(){var t=Object(w.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,W(d);case 4:m(t.sent.data.token),e("/my-list"),l.b.success("Welcome back!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(!0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:t?Object(p.jsx)(B,{}):Object(p.jsxs)("section",{className:"user-forms",children:[Object(p.jsxs)("section",{className:"form-container",children:[Object(p.jsx)("h1",{className:"user-form",children:"Log In"}),Object(p.jsxs)("form",{className:"user-form",onSubmit:h,children:[Object(p.jsx)("div",{children:Object(p.jsx)("input",{className:"user-form user-info",placeholder:"Email",name:"email",onChange:b})}),Object(p.jsx)("div",{children:Object(p.jsx)("input",{className:"user-form user-info",type:"password",placeholder:"Password",name:"password",onChange:b})}),r&&Object(p.jsx)("p",{children:"Either email or password were incorrect"}),Object(p.jsx)(I,{text:"Login"})]}),Object(p.jsx)("footer",{children:Object(p.jsxs)("h5",{className:"user-form",children:["New to Moodflix? ",Object(p.jsx)("span",{children:Object(p.jsx)(o.b,{to:"/register",children:"Register now"})})]})})]}),Object(p.jsx)(l.a,{})]})})}function Z(e){var t=e.todo,n=e.setTodos,s=function(){var e=Object(w.a)(k.a.mark((function e(t){var s,c,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=t.target.dataset.todo,e.next=4,R(s);case 4:return c=e.sent,r=Object(F.a)(Object(F.a)({},c.data),{},{isDone:!0}),e.next=8,U(s,r);case 8:return e.next=10,M();case 10:a=e.sent,n(a.data.filter((function(e){return!1===e.isDone&&!0===e.isActive}))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"todo-item-container",children:[Object(p.jsx)("span",{className:"material-icons todo-check","data-todo":t.id,onClick:s,children:"check_circle_outline"}),Object(p.jsx)(o.b,{to:"/my-list/todos/".concat(t.id),children:Object(p.jsx)("li",{className:"todo-item",children:t.todoItem})})]})}var q=n(85);function _(e){var t=e.todos,n=e.setTodos,s=T({todoItem:""}),c=s.formData,r=s.setFormData,a=s.formErrors,o=s.handleChange,i=function(){var e=Object(w.a)(k.a.mark((function e(s){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,P(c);case 4:a=e.sent,r({todoItem:""}),n([].concat(Object(q.a)(t),[a.data])),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("form",{onSubmit:i,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{placeholder:"To do next what would you like? Here yes write.",name:"todoItem",className:"todo-item new-todo",value:c.todoItem,onChange:o}),a.todoItem&&Object(p.jsx)("p",{children:a.todoItem})]}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{style:{display:"none"},type:"submit",className:"user-form submit-button",children:"Happy"})})]})}function J(){var e=c.a.useState([]),t=Object(j.a)(e,2),n=t[0],s=t[1];return c.a.useEffect((function(){var e=function(){var e=Object(w.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:t=e.sent,n=t.data.filter((function(e){return!1===e.isDone&&!0===e.isActive})),s(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[s]),console.log(n),Object(p.jsxs)("section",{className:"todo-container",children:[Object(p.jsx)("h1",{children:"MAY THE FORCE BE WITH YOU..."}),Object(p.jsx)(_,{setTodos:s,todos:n}),Object(p.jsx)("ul",{className:"todo-list",children:n&&n.map((function(e,t){return Object(p.jsx)(Z,{todo:e,index:t,setTodos:s},t)}))})]})}function V(e){var t=e.todo,n=Object(i.f)(),s=function(){var e=Object(w.a)(k.a.mark((function e(){var s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=Object(F.a)(Object(F.a)({},t),{},{isActive:!1}),e.next=4,U(t.id,s);case 4:n("/my-list"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)("span",{className:"material-icons later-icon",onClick:s,children:"schedule"})}function Q(e){var t=e.todoId,n=Object(i.f)(),s=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(t);case 3:n("/my-list"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)("span",{className:"material-icons delete-icon",onClick:s,children:"remove_circle_outline"})}function $(e){var t=e.todo,n=Object(i.f)(),s=function(){var e=Object(w.a)(k.a.mark((function e(n){var s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=Object(F.a)(Object(F.a)({},t),{},{todoItem:n.target.value}),e.next=4,U(t.id,s);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("form",{onSubmit:function(){try{n("/my-list")}catch(e){console.log(e)}},children:[Object(p.jsx)("input",{placeholder:"To do next what would you like? Here yes write.",name:"todoItem",className:"todo-item edit",defaultValue:t.todoItem,onChange:s}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{style:{display:"none"},type:"submit",className:"user-form submit-button",children:"Happy"})})]})}function ee(){var e=Object(i.g)().todoId,t=c.a.useState([]),n=Object(j.a)(t,2),s=n[0],r=n[1];return c.a.useEffect((function(){var t=function(){var t=Object(w.a)(k.a.mark((function t(){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R(e);case 3:n=t.sent,r(n.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(p.jsx)(p.Fragment,{children:s&&Object(p.jsxs)("section",{className:"todo-container",children:[Object(p.jsx)("p",{children:"Edit, delete or save for later here"}),Object(p.jsxs)("div",{className:"todo-item-container",children:[Object(p.jsx)(Q,{todoId:e}),Object(p.jsx)(V,{todo:s}),Object(p.jsx)($,{todo:s})]})]})})}function te(){var e=c.a.useState([]),t=Object(j.a)(e,2),n=t[0],s=t[1];c.a.useEffect((function(){var e=function(){var e=Object(w.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:t=e.sent,n=t.data.filter((function(e){return!1===e.isDone&&!1===e.isActive})),s(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[s]);var r=function(){var e=Object(w.a)(k.a.mark((function e(t){var n,c,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.target.dataset.todo,e.next=4,R(n);case 4:return c=e.sent,r=Object(F.a)(Object(F.a)({},c.data),{},{isActive:!0}),e.next=8,U(n,r);case 8:return e.next=10,M();case 10:a=e.sent,s(a.data.filter((function(e){return!1===e.isDone&&!1===e.isActive}))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return console.log(n),Object(p.jsxs)("section",{className:"todo-container form-container",children:[Object(p.jsx)("h1",{children:"READY TO TACKLE THESE? EASILY ADD ITEMS TO YOUR CURRENT LIST."}),Object(p.jsx)("ul",{className:"todo-list",children:n&&n.map((function(e,t){return Object(p.jsxs)("div",{className:"todo-item-container",children:[Object(p.jsx)("span",{className:"material-icons add-back-icon","data-todo":e.id,onClick:r,children:"add_task"}),Object(p.jsx)("li",{className:"saved-item",children:e.todoItem})]},t)}))}),Object(p.jsx)(o.b,{to:"/my-list",className:"goback-container",children:Object(p.jsx)(I,{text:"Go back to your list"})})]})}var ne=new y.GiphyFetch("sXpGFDGZs0Dv1mmNFvYaGUvYwKX0PWIh"),se=["C4C61QaHdVWc8","xTiIzwKOMCBgMuDKpi","3o84sqCUI5XeSkoXT2","3owzWnNOhrklz1ou9G","l1KsAVIlhsWoZC0Zq","xTiIzzYsS5UeSANFbW","nRkQduJDZ43bW","xTiIzS3rg7z3IHa0so","3o84sIQ7S5BLsvETIc","3o84syFWP3L7coV26c","l3fZOwcM57PzCk69q","uq6ILNBI6g3As"],ce=se[Math.floor(Math.random()*se.length)];function re(){var e=O(),t=c.a.useState(null),n=Object(j.a)(t,2),s=n[0],r=n[1];return c.a.useEffect((function(){var e=function(){var e=Object(w.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.gif(ce);case 2:t=e.sent,n=t.data,r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("section",{className:"user-forms home-container",children:Object(p.jsx)("div",{className:"user-form",children:Object(p.jsxs)("section",{className:"form-container",children:[Object(p.jsx)("h2",{className:"centered-text",children:"Uh oh, this is not the webpage you are looking for!"}),Object(p.jsx)("br",{}),Object(p.jsx)("div",{className:"gif",children:s&&Object(p.jsx)(C.Gif,{gif:s,width:400})}),e?Object(p.jsxs)("div",{className:"buttons-container",children:[Object(p.jsx)(o.b,{to:"/my-list",children:Object(p.jsx)(I,{text:"Your to-do list"})}),Object(p.jsx)(o.b,{to:"/my-list/saved",children:Object(p.jsx)(I,{text:"Your saved items"})})]}):Object(p.jsx)("div",{className:"buttons-container",children:Object(p.jsx)(o.b,{to:"/",children:Object(p.jsx)(I,{text:"Homepage"})})})]})})})})}var ae=function(){return Object(p.jsxs)(o.a,{children:[Object(p.jsx)(v,{}),Object(p.jsx)(l.a,{}),Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{path:"/",element:Object(p.jsx)(D,{})}),Object(p.jsx)(i.a,{path:"register",element:Object(p.jsx)(K,{})}),Object(p.jsx)(i.a,{path:"login",element:Object(p.jsx)(X,{})}),Object(p.jsx)(i.a,{path:"my-list/todos/:todoId",element:Object(p.jsx)(ee,{})}),Object(p.jsx)(i.a,{path:"/my-list/saved",element:Object(p.jsx)(te,{})}),Object(p.jsx)(i.a,{path:"my-list",element:Object(p.jsx)(J,{})}),Object(p.jsx)(i.a,{path:"*",element:Object(p.jsx)(re,{})})]})]})};a.a.render(Object(p.jsx)(ae,{}),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.8ea02f7f.chunk.js.map